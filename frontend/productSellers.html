<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sellers</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="location-bar">
        <div class="location-content">
            <span class="location-icon">üìç</span>
            <span class="location-text">Mumbai, Maharashtra</span>
            <div class="location-weather">
                <span>üå§Ô∏è</span>
                <span>28¬∞C</span>
            </div>
        </div>
    </div>


<header class="header">
        <nav class="nav">
            <div class="logo">Foodies</div>
            <div class="nav-links">
                <a href="buyerDashboard.html">Home</a>
                <a href="productSellers.html">Sellers</a>
                <a href="products.html">Products</a>
                <a href="cart.html">Cart</a>
                <div class="user-profile-icon" onclick="toggleProfilePopup()">üë§</div>
            </div>
        </nav>
    </header>

  
    <!-- User Profile Popup -->
    <div class="popup-overlay" id="popupOverlay" onclick="closeProfilePopup()"></div>
    <div class="user-profile-popup" id="userProfilePopup">
        <div class="popup-header">
            <div class="popup-title">User Profile</div>
            <button class="close-popup" onclick="closeProfilePopup()">√ó</button>
        </div>
        <div class="popup-content">
            <div class="profile-avatar">üë§</div>
            <div class="profile-info">
                <h3>Welcome, Foodie!</h3>
                <p>Premium Buyer</p>
                <p>üìç Mumbai, Maharashtra</p>
            </div>
            </div>
        </div>
        </div>
    <div class="container">
        <div class="page-header">
            <div class="breadcrumb">Dashboard > Sellers</div>
            <h1 class="page-title">Find Trusted Sellers</h1>
            <p>Discover the best suppliers for your <span class="selected-category" id="selectedCategory">food business</span></p>
        </div>

        <div class="filters-section">
            <div class="filters-grid">
                <div class="filter-group">
                    <label class="filter-label">Search Sellers</label>
                    <div class="search-box">
                        <span class="search-icon">üîç</span>
                        <input type="text" class="search-input" placeholder="Search by name, location..." id="searchInput">
                    </div>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">Sort By</label>
                    <select class="filter-select" id="sortSelect">
                        <option value="rating">Highest Rated</option>
                        <option value="trusted">Most Trusted</option>
                        <option value="price">Best Prices</option>
                        <option value="distance">Nearest</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">Price Range</label>
                    <select class="filter-select" id="priceFilter">
                        <option value="all">All Prices</option>
                        <option value="budget">Budget Friendly</option>
                        <option value="mid">Mid Range</option>
                        <option value="premium">Premium</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label class="filter-label">Vendor Type</label>
                    <select class="filter-select" id="vendorType">
                        <option value="all">All Sellers</option>
                        <option value="trusted">Trusted Only</option>
                        <option value="brand">Branded</option>
                        <option value="local">Local Suppliers</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="results-info">
            <span id="resultsCount">Showing 8 Sellers</span>
            <span>Filtered by your preferences</span>
        </div>

        <div class="Sellers-grid" id="SellersGrid">
            <!-- Vendor cards will be populated by JavaScript -->
        </div>
    </div>

    <script>

        // Profile Popup Functions
        function toggleProfilePopup() {
            const popup = document.getElementById('userProfilePopup');
            const overlay = document.getElementById('popupOverlay');
            
            popup.classList.toggle('open');
            overlay.classList.toggle('open');
            
            // Prevent body scroll when popup is open
            document.body.style.overflow = popup.classList.contains('open') ? 'hidden' : 'auto';
        }

        function closeProfilePopup() {
            const popup = document.getElementById('userProfilePopup');
            const overlay = document.getElementById('popupOverlay');
            
            popup.classList.remove('open');
            overlay.classList.remove('open');
            document.body.style.overflow = 'auto';
        }

        // Profile Action Functions
        function editProfile() {
            alert('Edit Profile functionality will be implemented here');
            closeProfilePopup();
        }

        function viewOrders() {
            alert('Order History functionality will be implemented here');
            closeProfilePopup();
        }

        function viewFavorites() {
            alert('Favorites functionality will be implemented here');
            closeProfilePopup();
        }

        function settings() {
            alert('Settings functionality will be implemented here');
            closeProfilePopup();
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('cart');
                localStorage.removeItem('selectedFoodType');
                localStorage.removeItem('selectedVendor');
                localStorage.removeItem('isLoggedIn');
                localStorage.removeItem('userPhone');
                

                window.location.href = 'login.html';
            }
        }

        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeProfilePopup();
            }
        });

        function loadUserData() {
            // Simulate loading user data
            const userData = {
                name: 'Foodie',
                type: 'Premium Buyer',
                location: 'Mumbai, Maharashtra',
                orders: 12,
                spent: '‚Çπ8,450',
                rating: 4.8,
                Sellers: 15
            };
            
            document.querySelector('.profile-info h3').textContent = `Welcome, ${userData.name}!`;
        }

        const Sellers = [
            {
                id: 1,
                name: "Fresh Foods Co.",
                location: "Andheri, Mumbai",
                rating: 4.8,
                reviews: 156,
                badges: ["trusted", "brand"],
                products: "Fresh vegetables, fruits, dairy",
                delivery: "Same day delivery",
                avatar: "ü•¨"
            },
            {
                id: 2,
                name: "Spice Paradise",
                location: "Bandra, Mumbai",
                rating: 4.9,
                reviews: 89,
                badges: ["trusted", "premium"],
                products: "Premium spices, masalas, herbs",
                delivery: "Next day delivery",
                avatar: "üå∂Ô∏è"
            },
            {
                id: 3,
                name: "Local Dairy Farm",
                location: "Thane, Mumbai",
                rating: 4.6,
                reviews: 234,
                badges: ["trusted"],
                products: "Fresh milk, curd, paneer",
                delivery: "Daily delivery",
                avatar: "ü•õ"
            },
            {
                id: 4,
                name: "Bread & Bakery",
                location: "Dadar, Mumbai",
                rating: 4.7,
                reviews: 67,
                badges: ["brand"],
                products: "Fresh bread, buns, pastries",
                delivery: "Morning delivery",
                avatar: "üçû"
            },
            {
                id: 5,
                name: "Organic Valley",
                location: "Powai, Mumbai",
                rating: 4.5,
                reviews: 123,
                badges: ["trusted", "premium"],
                products: "Organic vegetables, fruits",
                delivery: "Same day delivery",
                avatar: "üå±"
            },
            {
                id: 6,
                name: "Meat Masters",
                location: "Kurla, Mumbai",
                rating: 4.4,
                reviews: 78,
                badges: ["trusted"],
                products: "Fresh meat, chicken, fish",
                delivery: "Same day delivery",
                avatar: "ü•©"
            },
            {
                id: 7,
                name: "Sweet Corner",
                location: "Ghatkopar, Mumbai",
                rating: 4.8,
                reviews: 145,
                badges: ["brand", "premium"],
                products: "Traditional sweets, desserts",
                delivery: "Same day delivery",
                avatar: "üç∞"
            },
            {
                id: 8,
                name: "Beverage Hub",
                location: "Vikhroli, Mumbai",
                rating: 4.3,
                reviews: 92,
                badges: ["brand"],
                products: "Soft drinks, juices, tea",
                delivery: "Same day delivery",
                avatar: "ü•§"
            }
        ];

        function renderSellers(SellersToRender) {
            const grid = document.getElementById('SellersGrid');
            const resultsCount = document.getElementById('resultsCount');
            
            resultsCount.textContent = `Showing ${SellersToRender.length} Sellers`;
            
            grid.innerHTML = SellersToRender.map(vendor => `
                <div class="vendor-card" onclick="viewVendor(${vendor.id})">
                    <div class="vendor-header">
                        <div class="vendor-avatar">${vendor.avatar}</div>
                        <div class="vendor-info">
                            <h3>${vendor.name}</h3>
                            <div class="vendor-location">
                                üìç ${vendor.location}
                            </div>
                        </div>
                    </div>
                    
                    <div class="vendor-rating">
                        <div class="stars">${'‚≠ê'.repeat(Math.floor(vendor.rating))}</div>
                        <span class="rating-text">${vendor.rating} (${vendor.reviews} reviews)</span>
                    </div>
                    
                    <div class="vendor-badges">
                        ${vendor.badges.map(badge => {
                            const badgeText = badge.charAt(0).toUpperCase() + badge.slice(1);
                            return `<span class="badge ${badge}">${badgeText}</span>`;
                        }).join('')}
                    </div>
                    
                    <div class="vendor-products">
                        <div class="products-title">Products:</div>
                        <div class="products-list">${vendor.products}</div>
                    </div>
                    
                    <div class="vendor-footer">
                        <div class="delivery-info">üöö ${vendor.delivery}</div>
                        <button class="btn">View Products</button>
                    </div>
                </div>
            `).join('');
        }

        function filterSellers() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const sortBy = document.getElementById('sortSelect').value;
            const priceFilter = document.getElementById('priceFilter').value;
            const vendorType = document.getElementById('vendorType').value;
            
            let filtered = Sellers.filter(vendor => {
                const matchesSearch = vendor.name.toLowerCase().includes(searchTerm) || 
                                    vendor.location.toLowerCase().includes(searchTerm) ||
                                    vendor.products.toLowerCase().includes(searchTerm);
                
                const matchesType = vendorType === 'all' || 
                                  (vendorType === 'trusted' && vendor.badges.includes('trusted')) ||
                                  (vendorType === 'brand' && vendor.badges.includes('brand')) ||
                                  (vendorType === 'local' && !vendor.badges.includes('brand'));
                
                return matchesSearch && matchesType;
            });
            
            // Sort Sellers
            filtered.sort((a, b) => {
                switch(sortBy) {
                    case 'rating':
                        return b.rating - a.rating;
                    case 'trusted':
                        return (b.badges.includes('trusted') ? 1 : 0) - (a.badges.includes('trusted') ? 1 : 0);
                    case 'price':
                        return a.rating - b.rating; 
                    case 'distance':
                        return 0; 
                    default:
                        return 0;
                }
            });
            
            renderSellers(filtered);
        }

        function viewVendor(vendorId) {
            // Store selected vendor and redirect to products page
            localStorage.setItem('selectedVendor', vendorId);
            window.location.href = 'products.html';
        }

        function loadSelectedCategory() {
            const selectedType = localStorage.getItem('selectedFoodType');
            const categoryElement = document.getElementById('selectedCategory');
            
            if (selectedType) {
                const categoryNames = {
                    'misal': 'Misal Pav',
                    'vada': 'Vada Pav',
                    'chaat': 'Chaat & Snacks',
                    'sweets': 'Sweets & Desserts',
                    'beverages': 'Beverages',
                    'general': 'General Store'
                };
                
                categoryElement.textContent = categoryNames[selectedType] || 'food business';
            }
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            loadSelectedCategory();
            renderSellers(Sellers);
            
            // Add filter event listeners
            document.getElementById('searchInput').addEventListener('input', filterSellers);
            document.getElementById('sortSelect').addEventListener('change', filterSellers);
            document.getElementById('priceFilter').addEventListener('change', filterSellers);
            document.getElementById('vendorType').addEventListener('change', filterSellers);

            // Initialize Sellers page
            loadSellers();
            setActiveNavLink();
        });

        // Set active navigation link
        function setActiveNavLink() {
            const currentPage = window.location.pathname.split('/').pop() || 'productSellers.html';
            const navLinks = document.querySelectorAll('.nav-links a');
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                }
            });
        }
    </script>
</body>
</html> 